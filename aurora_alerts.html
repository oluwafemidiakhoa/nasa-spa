<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurora Alerts - HelioEarth Location-Based Forecasting</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .header {
            background: linear-gradient(90deg, #1e3c72 0%, #2a5298 100%);
            padding: 20px 0;
            box-shadow: 0 4px 30px rgba(0, 255, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo h1 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.8rem;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 0 15px rgba(0, 255, 255, 0.8);
        }
        
        .back-btn {
            background: linear-gradient(145deg, #2a5298, #1e3c72);
            color: #ffffff;
            border: 2px solid #00ffff;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 700;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .back-btn:hover {
            background: linear-gradient(145deg, #1e3c72, #2a5298);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            transform: translateY(-2px);
        }
        
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 30px;
        }
        
        .feature-title {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .feature-title h2 {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2.5rem;
            color: #00ffff;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
        }
        
        .feature-title p {
            font-size: 1.2rem;
            color: #ffffff;
            opacity: 0.8;
        }
        
        .location-section {
            background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(22, 33, 62, 0.9));
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 255, 255, 0.1);
        }
        
        .location-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .location-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            color: #00ffff;
        }
        
        .location-status {
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ff0000;
            animation: pulse 2s infinite;
        }
        
        .status-dot.active {
            background: #00ff00;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        .location-btn {
            background: linear-gradient(45deg, #00ff00, #00cc00);
            color: #000;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 700;
            transition: all 0.3s ease;
            margin: 10px 0;
        }
        
        .location-btn:hover {
            background: linear-gradient(45deg, #00cc00, #00ff00);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
            transform: translateY(-2px);
        }
        
        .location-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        .location-display {
            background: rgba(0, 0, 0, 0.3);
            border-left: 4px solid #00ffff;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .coord-display {
            font-family: 'JetBrains Mono', monospace;
            color: #00ff00;
            font-size: 1.1rem;
        }
        
        .alert-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .alert-card {
            background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(22, 33, 62, 0.9));
            border: 2px solid rgba(0, 255, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .alert-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 255, 0, 0.2);
            border-color: rgba(0, 255, 0, 0.6);
        }
        
        .alert-card.high-probability {
            border-color: rgba(255, 0, 0, 0.5);
            background: linear-gradient(145deg, rgba(46, 26, 26, 0.9), rgba(62, 22, 22, 0.9));
        }
        
        .alert-card.medium-probability {
            border-color: rgba(255, 255, 0, 0.5);
            background: linear-gradient(145deg, rgba(46, 46, 26, 0.9), rgba(62, 62, 22, 0.9));
        }
        
        .alert-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .alert-icon {
            font-size: 2rem;
            color: #00ff00;
        }
        
        .alert-icon.high {
            color: #ff0000;
        }
        
        .alert-icon.medium {
            color: #ffff00;
        }
        
        .probability-badge {
            background: rgba(0, 255, 0, 0.2);
            border: 1px solid #00ff00;
            color: #00ff00;
            padding: 5px 12px;
            border-radius: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            font-weight: 700;
        }
        
        .probability-badge.high {
            background: rgba(255, 0, 0, 0.2);
            border-color: #ff0000;
            color: #ff0000;
        }
        
        .probability-badge.medium {
            background: rgba(255, 255, 0, 0.2);
            border-color: #ffff00;
            color: #ffff00;
        }
        
        .alert-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.3rem;
            color: #ffffff;
            margin-bottom: 10px;
        }
        
        .alert-time {
            color: #00ffff;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            margin-bottom: 15px;
        }
        
        .alert-description {
            color: #cccccc;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .alert-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        
        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .detail-label {
            color: #888;
            font-size: 0.9rem;
        }
        
        .detail-value {
            color: #00ffff;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 700;
        }
        
        .notification-setup {
            background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(22, 33, 62, 0.9));
            border: 2px solid rgba(255, 255, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .notification-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            color: #ffff00;
            margin-bottom: 20px;
        }
        
        .notification-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .notification-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .notification-option:hover {
            background: rgba(255, 255, 0, 0.1);
            border: 1px solid rgba(255, 255, 0, 0.3);
        }
        
        .notification-option input[type="checkbox"] {
            transform: scale(1.2);
            accent-color: #ffff00;
        }
        
        .share-section {
            text-align: center;
            margin-top: 40px;
            padding: 30px;
            background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(22, 33, 62, 0.9));
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 15px;
        }
        
        .share-title {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            color: #00ffff;
            margin-bottom: 20px;
        }
        
        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .share-btn {
            background: linear-gradient(45deg, #1da1f2, #0d8bd9);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }
        
        .share-btn.facebook {
            background: linear-gradient(45deg, #4267B2, #365899);
        }
        
        .share-btn.instagram {
            background: linear-gradient(45deg, #E4405F, #C13584);
        }
        
        .share-btn.linkedin {
            background: linear-gradient(45deg, #0077B5, #005885);
        }
        
        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        @media (max-width: 768px) {
            .alert-grid {
                grid-template-columns: 1fr;
            }
            
            .notification-options {
                grid-template-columns: 1fr;
            }
            
            .share-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-map-marker-alt" style="font-size: 2rem; color: #00ffff;"></i>
                <h1>AURORA ALERTS</h1>
            </div>
            <a href="dashboard_hub.html" class="back-btn">
                <i class="fas fa-arrow-left"></i> Back to Mission Control
            </a>
        </div>
    </header>

    <div class="main-container">
        <div class="feature-title">
            <h2>LOCATION-BASED AURORA FORECASTING</h2>
            <p>Get personalized aurora visibility alerts for your exact location</p>
        </div>

        <div class="location-section">
            <div class="location-header">
                <h3 class="location-title">
                    <i class="fas fa-crosshairs"></i> Your Location
                </h3>
                <div class="location-status">
                    <div class="status-dot" id="locationStatus"></div>
                    <span id="locationStatusText">Location Not Set</span>
                </div>
            </div>
            <button class="location-btn" id="getLocationBtn">
                <i class="fas fa-map-marker-alt"></i> Enable Location Access
            </button>
            <div class="location-display" id="locationDisplay" style="display: none;">
                <div class="coord-display" id="coordinatesDisplay"></div>
                <div style="margin-top: 10px; color: #ccc;" id="addressDisplay"></div>
            </div>
        </div>

        <div class="alert-grid" id="alertGrid">
            <!-- Dynamic aurora alerts will be populated here -->
        </div>

        <div class="notification-setup">
            <h3 class="notification-title">
                <i class="fas fa-bell"></i> Notification Preferences
            </h3>
            <div class="notification-options">
                <label class="notification-option">
                    <input type="checkbox" id="emailNotifications" checked>
                    <span><i class="fas fa-envelope"></i> Email Alerts</span>
                </label>
                <label class="notification-option">
                    <input type="checkbox" id="browserNotifications">
                    <span><i class="fas fa-desktop"></i> Browser Notifications</span>
                </label>
                <label class="notification-option">
                    <input type="checkbox" id="smsNotifications">
                    <span><i class="fas fa-sms"></i> SMS Alerts</span>
                </label>
                <label class="notification-option">
                    <input type="checkbox" id="highPriorityOnly">
                    <span><i class="fas fa-star"></i> High Priority Only</span>
                </label>
            </div>
        </div>

        <div class="share-section">
            <h3 class="share-title">Share Your Aurora Forecast</h3>
            <div class="share-buttons">
                <a href="#" class="share-btn" id="shareTwitter">
                    <i class="fab fa-twitter"></i> Share on Twitter
                </a>
                <a href="#" class="share-btn facebook" id="shareFacebook">
                    <i class="fab fa-facebook-f"></i> Share on Facebook
                </a>
                <a href="#" class="share-btn instagram" id="shareInstagram">
                    <i class="fab fa-instagram"></i> Share on Instagram
                </a>
                <a href="#" class="share-btn linkedin" id="shareLinkedIn">
                    <i class="fab fa-linkedin-in"></i> Share on LinkedIn
                </a>
            </div>
        </div>
    </div>

    <script>
        const API_BASE_URL = 'https://helioearth.com';
        
        let userLocation = null;
        let currentAlerts = [];

        // Location services
        function getUserLocation() {
            const btn = document.getElementById('getLocationBtn');
            const status = document.getElementById('locationStatus');
            const statusText = document.getElementById('locationStatusText');
            
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Getting Location...';
            statusText.textContent = 'Requesting Location...';
            
            if (!navigator.geolocation) {
                alert('Geolocation is not supported by this browser.');
                return;
            }
            
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    userLocation = {
                        lat: position.coords.latitude,
                        lon: position.coords.longitude,
                        accuracy: position.coords.accuracy
                    };
                    
                    displayLocation(userLocation);
                    generateAuroraAlerts(userLocation);
                    
                    status.classList.add('active');
                    statusText.textContent = 'Location Active';
                    btn.innerHTML = '<i class="fas fa-sync-alt"></i> Update Location';
                    btn.disabled = false;
                    
                    // Enable browser notifications if supported
                    requestNotificationPermission();
                },
                (error) => {
                    console.error('Location error:', error);
                    statusText.textContent = 'Location Access Denied';
                    btn.innerHTML = '<i class="fas fa-map-marker-alt"></i> Retry Location Access';
                    btn.disabled = false;
                    
                    // Show demo alerts for major cities
                    showDemoAlerts();
                }
            );
        }
        
        function displayLocation(location) {
            const display = document.getElementById('locationDisplay');
            const coords = document.getElementById('coordinatesDisplay');
            const address = document.getElementById('addressDisplay');
            
            coords.textContent = `${location.lat.toFixed(4)}°N, ${location.lon.toFixed(4)}°W`;
            
            // Reverse geocoding (simplified)
            fetch(`https://api.opencagedata.com/geocode/v1/json?q=${location.lat}+${location.lon}&key=demo&limit=1`)
                .then(response => response.json())
                .then(data => {
                    if (data.results && data.results[0]) {
                        address.textContent = data.results[0].formatted;
                    } else {
                        address.textContent = 'Location coordinates detected';
                    }
                })
                .catch(() => {
                    address.textContent = `Accuracy: ±${Math.round(location.accuracy)}m`;
                });
            
            display.style.display = 'block';
        }
        
        function generateAuroraAlerts(location) {
            // Calculate magnetic latitude (simplified approximation)
            const magneticLat = calculateMagneticLatitude(location.lat, location.lon);
            
            // Generate realistic aurora forecasts based on location
            const alerts = [];
            
            // Tonight's forecast
            const tonight = new Date();
            tonight.setHours(22, 0, 0, 0);
            alerts.push(generateAuroraAlert(location, magneticLat, tonight, 'Tonight'));
            
            // Tomorrow night
            const tomorrow = new Date(tonight);
            tomorrow.setDate(tomorrow.getDate() + 1);
            alerts.push(generateAuroraAlert(location, magneticLat, tomorrow, 'Tomorrow'));
            
            // This weekend
            const weekend = new Date(tonight);
            weekend.setDate(weekend.getDate() + (6 - tonight.getDay()));
            alerts.push(generateAuroraAlert(location, magneticLat, weekend, 'This Weekend'));
            
            currentAlerts = alerts;
            displayAuroraAlerts(alerts);
        }
        
        function calculateMagneticLatitude(lat, lon) {
            // Simplified magnetic latitude calculation
            // Real calculation would use IGRF model
            const magneticNorthLat = 86.5;
            const magneticNorthLon = -164.0;
            
            const latRad = lat * Math.PI / 180;
            const lonRad = lon * Math.PI / 180;
            const magLatRad = magneticNorthLat * Math.PI / 180;
            const magLonRad = magneticNorthLon * Math.PI / 180;
            
            const deltaLon = lonRad - magLonRad;
            
            const magneticLat = Math.asin(
                Math.sin(latRad) * Math.sin(magLatRad) +
                Math.cos(latRad) * Math.cos(magLatRad) * Math.cos(deltaLon)
            ) * 180 / Math.PI;
            
            return magneticLat;
        }
        
        function generateAuroraAlert(location, magneticLat, date, timeLabel) {
            const kpIndex = Math.random() * 9; // Simulated Kp index
            const visibility = calculateVisibility(magneticLat, kpIndex);
            
            return {
                id: Date.now() + Math.random(),
                timeLabel: timeLabel,
                date: date,
                location: location,
                magneticLat: magneticLat,
                kpIndex: kpIndex,
                visibility: visibility,
                probability: visibility.probability,
                intensity: visibility.intensity,
                bestViewingTime: calculateBestViewingTime(date),
                moonPhase: calculateMoonPhase(date),
                weatherFactor: Math.random() * 0.3 + 0.7 // Simplified weather impact
            };
        }
        
        function calculateVisibility(magneticLat, kpIndex) {
            const absLat = Math.abs(magneticLat);
            
            let probability = 0;
            let intensity = 'None';
            let description = 'Aurora not visible from your location';
            
            if (absLat > 65) { // Polar regions
                probability = Math.min(0.9, kpIndex / 9 * 0.9 + 0.3);
                intensity = kpIndex > 6 ? 'Spectacular' : kpIndex > 4 ? 'Bright' : kpIndex > 2 ? 'Moderate' : 'Faint';
                description = 'Excellent aurora viewing location';
            } else if (absLat > 55) { // Sub-polar
                probability = Math.max(0, (kpIndex - 3) / 6 * 0.8);
                intensity = kpIndex > 7 ? 'Bright' : kpIndex > 5 ? 'Moderate' : kpIndex > 3 ? 'Faint' : 'None';
                description = 'Aurora possible during stronger geomagnetic activity';
            } else if (absLat > 45) { // Mid-latitudes
                probability = Math.max(0, (kpIndex - 5) / 4 * 0.6);
                intensity = kpIndex > 8 ? 'Moderate' : kpIndex > 6 ? 'Faint' : 'None';
                description = 'Aurora only visible during major geomagnetic storms';
            } else { // Lower latitudes
                probability = Math.max(0, (kpIndex - 7) / 2 * 0.3);
                intensity = kpIndex > 8.5 ? 'Faint' : 'None';
                description = 'Extremely rare aurora visibility - only during severe storms';
            }
            
            return { probability, intensity, description };
        }
        
        function calculateBestViewingTime(date) {
            const hour = 22 + Math.floor(Math.random() * 4); // Between 10 PM and 2 AM
            const minute = Math.floor(Math.random() * 60);
            return `${hour % 24}:${minute.toString().padStart(2, '0')}`;
        }
        
        function calculateMoonPhase(date) {
            const phases = ['New Moon', 'Waxing Crescent', 'First Quarter', 'Waxing Gibbous', 'Full Moon', 'Waning Gibbous', 'Last Quarter', 'Waning Crescent'];
            const dayOfMonth = date.getDate();
            const phaseIndex = Math.floor((dayOfMonth / 30) * 8) % 8;
            return phases[phaseIndex];
        }
        
        function displayAuroraAlerts(alerts) {
            const grid = document.getElementById('alertGrid');
            grid.innerHTML = '';
            
            alerts.forEach(alert => {
                const card = createAlertCard(alert);
                grid.appendChild(card);
            });
        }
        
        function createAlertCard(alert) {
            const card = document.createElement('div');
            
            let probabilityClass = 'low';
            let iconClass = '';
            if (alert.probability > 0.7) {
                probabilityClass = 'high';
                iconClass = 'high';
            } else if (alert.probability > 0.3) {
                probabilityClass = 'medium';
                iconClass = 'medium';
            }
            
            card.className = `alert-card ${probabilityClass}-probability`;
            card.innerHTML = `
                <div class="alert-header">
                    <div class="alert-icon ${iconClass}">
                        <i class="fas fa-eye"></i>
                    </div>
                    <div class="probability-badge ${probabilityClass}">
                        ${Math.round(alert.probability * 100)}% Visible
                    </div>
                </div>
                <div class="alert-title">${alert.timeLabel} Aurora Forecast</div>
                <div class="alert-time">
                    <i class="fas fa-calendar"></i> ${alert.date.toLocaleDateString()} at ${alert.bestViewingTime}
                </div>
                <div class="alert-description">
                    ${alert.visibility.description}. Expected intensity: ${alert.visibility.intensity}
                </div>
                <div class="alert-details">
                    <div class="detail-item">
                        <span class="detail-label">Kp Index</span>
                        <span class="detail-value">${alert.kpIndex.toFixed(1)}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Mag. Latitude</span>
                        <span class="detail-value">${alert.magneticLat.toFixed(1)}°</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Moon Phase</span>
                        <span class="detail-value">${alert.moonPhase}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Weather Factor</span>
                        <span class="detail-value">${Math.round(alert.weatherFactor * 100)}%</span>
                    </div>
                </div>
            `;
            
            return card;
        }
        
        function showDemoAlerts() {
            // Show demo alerts for various locations
            const demoLocations = [
                { lat: 64.8, lon: -147.7, name: 'Fairbanks, Alaska' },
                { lat: 69.3, lon: 88.2, name: 'Tromsø, Norway' },
                { lat: 46.8, lon: -96.8, name: 'Fargo, North Dakota' }
            ];
            
            const alerts = demoLocations.map(loc => {
                const magneticLat = calculateMagneticLatitude(loc.lat, loc.lon);
                const date = new Date();
                date.setHours(22, 0, 0, 0);
                return generateAuroraAlert(loc, magneticLat, date, `Demo: ${loc.name}`);
            });
            
            displayAuroraAlerts(alerts);
        }
        
        function requestNotificationPermission() {
            if ("Notification" in window) {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") {
                        document.getElementById('browserNotifications').checked = true;
                        showNotification("Aurora Alerts Enabled!", "You'll receive notifications for high-probability aurora events at your location.");
                    }
                });
            }
        }
        
        function showNotification(title, body) {
            if (Notification.permission === "granted") {
                new Notification(title, {
                    body: body,
                    icon: '/favicon.ico',
                    badge: '/favicon.ico'
                });
            }
        }
        
        function setupSocialSharing() {
            const shareText = userLocation ? 
                `Check out my personalized aurora forecast from HelioEarth! 🌌 Aurora visibility at my location: ${Math.round(currentAlerts[0]?.probability * 100 || 0)}%` :
                'Amazing real-time aurora forecasting with AI-powered predictions from HelioEarth! 🌌';
            
            const shareUrl = window.location.href;
            
            document.getElementById('shareTwitter').href = 
                `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}`;
            
            document.getElementById('shareFacebook').href = 
                `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`;
            
            document.getElementById('shareLinkedIn').href = 
                `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`;
            
            // Instagram doesn't support direct sharing, so we'll copy to clipboard
            document.getElementById('shareInstagram').addEventListener('click', (e) => {
                e.preventDefault();
                navigator.clipboard.writeText(shareText + ' ' + shareUrl);
                alert('Share text copied to clipboard! Paste it in your Instagram story or post.');
            });
        }
        
        // Event listeners
        document.getElementById('getLocationBtn').addEventListener('click', getUserLocation);
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            setupSocialSharing();
            showDemoAlerts(); // Show demo alerts initially
            
            console.log('Aurora Alerts System Loaded');
            console.log('Developer: Oluwafemi Idiakhoa');
            console.log('Email: oluwafemidiakhoa@gmail.com');
        });
    </script>
</body>
</html>