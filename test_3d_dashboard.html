<!DOCTYPE html>
<html>
<head>
    <title>3D Dashboard Test</title>
</head>
<body>
    <h1>3D Dashboard Verification</h1>
    
    <h2>Test Results:</h2>
    <div id="test-results"></div>
    
    <h2>Quick Actions:</h2>
    <button onclick="window.open('3d_dashboard.html', '_blank')">Open 3D Dashboard</button>
    <button onclick="testAPI()">Test API Connection</button>
    
    <script>
        async function testAPI() {
            const results = document.getElementById('test-results');
            results.innerHTML = 'Testing API...';
            
            try {
                const response = await fetch('http://localhost:9001/api/v1/visualization/3d');
                const data = await response.json();
                
                if (data.success) {
                    results.innerHTML = `
                        <div style="color: green;">✓ API Connected Successfully</div>
                        <div>CMEs Available: ${data.data.cmes ? data.data.cmes.length : 0}</div>
                        <div>Mission Time: ${data.data.mission_time}</div>
                        <div>Connection Status: ${data.data.connection_status}</div>
                    `;
                } else {
                    results.innerHTML = '<div style="color: red;">✗ API Error: ' + (data.error || 'Unknown error') + '</div>';
                }
            } catch (error) {
                results.innerHTML = '<div style="color: red;">✗ Connection Failed: ' + error.message + '</div>';
            }
        }
        
        // Auto-test on load
        testAPI();
    </script>
</body>
</html>